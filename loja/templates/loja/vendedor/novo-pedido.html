{% extends '../bases/base-vendedor.html' %}

{% load static %}

{% block title %}
GESTOR System
{% endblock %}

{% block content %}
<div class="d-flex justify-content-center flex-column" id="main">

    <div class="d-flex justify-content-center mt-1 px-5 py-2 flex-column conteiner" id="conteiner">

        <form
            class="form-control d-flex justify-content-between mt-4 pt-2 align-items-end"
            style="background-color: transparent; border: none;">
            {% csrf_token %}
            <div class="text-dark">____________________________</div>
            <input type="text" style="height: 2.5em;" placeholder="Qual produto está procurando?" id="barra-de-pesquisa"
                class="form-control">
            <div class="text-dark">_________________</div>
            <div class="d-flex align-items-center">
                <button id="numero-produtos-btn" class="btn btn-dark m-0" title="Pedido" onclick="verPedido()" hidden><i class="bi bi-box2"></i></button>
                <p id="numero-produtos" class="m-0 rounded text-secondary" style="padding-left: .5em;" hidden>0</p>
            </div>
        </form>

        <div id="recomendacoes" class="rounded p-3" style="border: 1px solid white;" hidden>
            <table class="table">

                <thead>
                    <tr>
                        <th scope="col" class="text-secondary">Nome</th>
                        <th scope="col" class="text-secondary">Qnt. Disponível</th>
                        <th scope="col" class="text-dark">-</th>
                    </tr>
                </thead>


                <tbody>
                    {% for produto in produtos %}
                    <tr>
                        <td style="min-width: 45vw;">{{produto.id_dados_produto.nome}}</td>
                        <td>{{produto.qnt_disponivel}}</td>
                        <td class="d-flex align-items-center recomendacao">
                            <button id="{{produto.id}}" class="btn btn-outline-secondary"
                                onclick="adicionarProduto('{{produto.id}}')">Adicionar</button>
                            <input id="{{ produto.id }}_qnt" type="number" value="1" min="1" max="{{produto.qnt_disponivel}}"
                                style="width: 3.7em; margin-left: 1em; color: rgb(76, 176, 176); border: none; height: 2em;">
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>

            </table>
        </div>


        <center id="aviso-nenhum-produto">
            <p class="py-5 my-5" style="font-size: .8em;">Nenhum produto adicionado ainda.</p>
        </center>

    </div>
</div>
<script src="{% static 'scripts/pedido.js' %}"></script>
{% csrf_token %}
{% endblock %}